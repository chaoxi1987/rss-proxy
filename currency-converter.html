<!-- 货币汇率计算器 开始 -->
<style>
    /* 页面容器 */
    .calculator-container {
        max-width: 600px;
        margin: 0 auto;
        padding: 20px;
        background: #f8f9fa;
        border-radius: 15px;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        transition: all 0.3s ease;
    }

    /* 页面标题 */
    .calculator-header {
        text-align: center;
        margin-bottom: 25px;
    }

    .calculator-header h2 {
        font-size: 32px;
        color: #2c3e50;
        margin-bottom: 20px;
        text-align: center;
        border-bottom: 3px solid #0d6efd;
        padding-bottom: 12px;
        transition: color 0.3s ease;
    }

    .calculator-header h2:hover {
        color: #0b5ed7;
    }

    /* 计算器主体 */
    .calculator-body {
        display: flex;
        flex-direction: column;
        gap: 18px;
    }

    /* 输入框 */
    .calculator-input {
        display: flex;
        flex-direction: column;
        gap: 8px;
    }

    .calculator-input label {
        font-size: 18px;
        color: #34495e;
        font-weight: 500;
    }

    .calculator-input input,
    .calculator-input select {
        padding: 12px;
        font-size: 18px;
        border: 1px solid #d3d3d3;
        border-radius: 8px;
        transition: all 0.3s ease;
        background-color: #ffffff;
        box-shadow: inset 0 2px 5px rgba(0, 0, 0, 0.05);
    }

    .calculator-input input:focus,
    .calculator-input select:focus {
        border-color: #0d6efd;
        outline: none;
        box-shadow: 0 0 0 3px rgba(13, 110, 253, 0.2);
    }

    /* 转换按钮 */
    .convert-button {
        padding: 12px 24px;
        background: #0d6efd;
        color: white;
        border: none;
        border-radius: 8px;
        font-size: 18px;
        cursor: pointer;
        transition: all 0.3s ease;
        box-shadow: 0 4px 10px rgba(13, 110, 253, 0.2);
    }

    .convert-button:hover {
        background: #0b5ed7;
        transform: translateY(-2px);
        box-shadow: 0 6px 12px rgba(13, 110, 253, 0.3);
    }

    /* 结果展示 */
    .result-section {
        margin-top: 25px;
        padding: 20px;
        background: #ffffff;
        border-radius: 12px;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
        transition: all 0.3s ease;
    }

    .result-section h3 {
        font-size: 22px;
        color: #2c3e50;
        margin-bottom: 15px;
        border-bottom: 2px solid #0d6efd;
        padding-bottom: 8px;
    }

    .result-section p {
        font-size: 18px;
        color: #34495e;
        margin: 8px 0;
    }

    /* 实时汇率样式 */
    .exchange-rates-section {
        margin-top: 30px;
        padding: 20px;
        background: #ffffff;
        border-radius: 12px;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
        font-size: 16px;
        color: #34495e;
        transition: all 0.3s ease;
    }

    .exchange-rates-section h3 {
        font-size: 20px;
        color: #2c3e50;
        margin-bottom: 15px;
    }

    .exchange-rates-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
        gap: 15px;
    }

    .exchange-rate-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 10px 15px;
        background-color: #f1f3f5;
        border-radius: 8px;
        font-weight: 500;
        transition: background-color 0.3s ease;
    }

    .exchange-rate-item:hover {
        background-color: #e0e3e7;
    }

    /* 使用说明 */
    .usage-instructions {
        margin-top: 30px;
        padding: 20px;
        background: #ffffff;
        border-radius: 12px;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
        font-size: 16px;
        color: #34495e;
        transition: all 0.3s ease;
    }

    .usage-instructions h4 {
        font-size: 20px;
        color: #2c3e50;
        margin-bottom: 15px;
    }

    .usage-instructions ul {
        margin-left: 25px;
        list-style-type: disc;
    }

    /* 响应式调整 */
    @media (max-width: 600px) {
        .calculator-container {
            padding: 18px;
        }

        .calculator-header h2 {
            font-size: 28px;
        }

        .calculator-input label {
            font-size: 16px;
        }

        .calculator-input input,
        .calculator-input select {
            padding: 10px;
            font-size: 16px;
        }

        .convert-button {
            padding: 10px 20px;
            font-size: 16px;
        }

        .result-section h3 {
            font-size: 20px;
        }

        .result-section p {
            font-size: 16px;
        }

        .exchange-rates-section h3 {
            font-size: 18px;
        }

        .exchange-rates-grid {
            grid-template-columns: 1fr 1fr;
        }
    }
</style>

<div class="calculator-container">
    <div class="calculator-header">
        <h2>货币汇率计算器</h2>
    </div>
    <div class="calculator-body">
        <div class="calculator-input">
            <label for="amount">金额：</label>
            <input type="number" id="amount" placeholder="请输入金额" step="0.01" min="0">
        </div>
        <div class="calculator-input">
            <label for="from-currency">从货币：</label>
            <select id="from-currency">
                <option value="CNY">人民币</option>
                <option value="USD">美元</option>
                <option value="EUR">欧元</option>
                <option value="JPY">日元</option>
                <option value="GBP">英镑</option>
            </select>
        </div>
        <div class="calculator-input">
            <label for="to-currency">转换为货币：</label>
            <select id="to-currency">
                <option value="CNY">人民币</option>
                <option value="USD">美元</option>
                <option value="EUR">欧元</option>
                <option value="JPY">日元</option>
                <option value="GBP">英镑</option>
            </select>
        </div>
        <button class="convert-button" onclick="convertCurrency()">转换</button>
    </div>
    <div class="result-section" id="result-section">
        <h3>转换结果：</h3>
        <p id="result-amount" style="font-weight: bold; background-color: #f0f8ff; padding: 8px; border-radius: 4px;"></p>
    </div>

    <!-- 新增：主流货币实时汇率 -->
    <div class="exchange-rates-section">
        <h3>主流货币实时汇率（以1 CNY为基准）</h3>
        <div class="exchange-rates-grid">
            <div class="exchange-rate-item">
                <span>人民币</span>
                <span id="cny-rate">加载中...</span>
            </div>
            <div class="exchange-rate-item">
                <span>美元</span>
                <span id="usd-rate">加载中...</span>
            </div>
            <div class="exchange-rate-item">
                <span>欧元</span>
                <span id="eur-rate">加载中...</span>
            </div>
            <div class="exchange-rate-item">
                <span>日元</span>
                <span id="jpy-rate">加载中...</span>
            </div>
            <div class="exchange-rate-item">
                <span>英镑</span>
                <span id="gbp-rate">加载中...</span>
            </div>
        </div>
    </div>

    <!-- 新增：版权信息 -->
    <div class="copyright-info">
        © 2025 <a href="https://laodeng144.com/" target="_blank">老登学习工具箱</a> - 保留所有权利
    </div>
</div>

<script>
    async function convertCurrency() {
        const amountInput = document.getElementById('amount');
        const fromCurrency = document.getElementById('from-currency').value;
        const toCurrency = document.getElementById('to-currency').value;
        const resultSection = document.getElementById('result-section');
        const resultAmount = document.getElementById('result-amount');

        const amount = parseFloat(amountInput.value);

        if (isNaN(amount) || amount <= 0) {
            alert("请输入有效的金额");
            resultSection.style.display = 'none';
            return;
        }

        try {
            if (fromCurrency === toCurrency) {
                resultAmount.textContent = `${amount} ${toCurrency}`;
                resultSection.style.display = 'block';
                return;
            }

            const response = await fetch(`https://api.exchangerate-api.com/v4/latest/${fromCurrency}`);
            if (!response.ok) {
                throw new Error("无法获取汇率数据，请稍后再试");
            }

            const data = await response.json();
            const rate = data.rates[toCurrency];

            if (!rate) {
                throw new Error('目标货币汇率不可用');
            }

            const convertedAmount = (amount * rate).toFixed(2);
            resultAmount.textContent = `${convertedAmount} ${toCurrency}`;
            resultSection.style.display = 'block';
        } catch (error) {
            console.error(error);
            alert('转换失败，请检查网络连接或稍后再试。');
            resultSection.style.display = 'none';
        }
    }

    // 获取主流货币实时汇率
    async function fetchExchangeRates() {
        try {
            const response = await fetch('https://api.exchangerate-api.com/v4/latest/CNY');
            if (!response.ok) {
                throw new Error("无法获取汇率数据，请刷新页面重试");
            }

            const data = await response.json();
            const rates = data.rates;

            document.getElementById('cny-rate').textContent = `1 CNY = ${rates.CNY.toFixed(4)} CNY`;
            document.getElementById('usd-rate').textContent = `1 CNY = ${rates.USD.toFixed(4)} USD`;
            document.getElementById('eur-rate').textContent = `1 CNY = ${rates.EUR.toFixed(4)} EUR`;
            document.getElementById('jpy-rate').textContent = `1 CNY = ${rates.JPY.toFixed(4)} JPY`;
            document.getElementById('gbp-rate').textContent = `1 CNY = ${rates.GBP.toFixed(4)} GBP`;
        } catch (error) {
            console.error('获取汇率失败:', error);
            document.querySelectorAll('.exchange-rate-item span').forEach(span => {
                span.textContent = '加载失败';
            });
        }
    }

    // 新增：单位换算计算器相关函数
    function updateUnitOptions() {
        const unitType = document.getElementById('unit-type').value;
        const fromUnitSelect = document.getElementById('from-unit');
        const toUnitSelect = document.getElementById('to-unit');

        // 清空现有选项
        fromUnitSelect.innerHTML = '';
        toUnitSelect.innerHTML = '';

        // 根据选择的类型动态生成单位选项
        let units = [];
        switch (unitType) {
            case 'length':
                units = ['米', '厘米', '千米', '英里', '英寸'];
                break;
            case 'weight':
                units = ['千克', '克', '吨', '磅', '盎司'];
                break;
            case 'area':
                units = ['平方米', '平方厘米', '公顷', '平方英尺', '亩'];
                break;
            case 'volume':
                units = ['升', '毫升', '立方米', '加仑', '品脱'];
                break;
        }

        // 添加单位选项
        units.forEach(unit => {
            const option = document.createElement('option');
            option.value = unit;
            option.textContent = unit;
            fromUnitSelect.appendChild(option.cloneNode(true));
            toUnitSelect.appendChild(option.cloneNode(true));
        });
    }

    function convertUnit() {
        const fromUnit = document.getElementById('from-unit').value;
        const toUnit = document.getElementById('to-unit').value;
        const amount = parseFloat(document.getElementById('unit-amount').value);
        const resultSection = document.getElementById('unit-result-section');
        const resultAmount = document.getElementById('unit-result-amount');

        if (isNaN(amount) || amount <= 0) {
            alert("请输入有效的数值");
            resultSection.style.display = 'none';
            return;
        }

        // 示例转换逻辑（可根据实际需求扩展）
        let convertedAmount;
        switch (document.getElementById('unit-type').value) {
            case 'length':
                convertedAmount = convertLength(fromUnit, toUnit, amount);
                break;
            case 'weight':
                convertedAmount = convertWeight(fromUnit, toUnit, amount);
                break;
            case 'area':
                convertedAmount = convertArea(fromUnit, toUnit, amount);
                break;
            case 'volume':
                convertedAmount = convertVolume(fromUnit, toUnit, amount);
                break;
        }

        resultAmount.textContent = `${amount} ${fromUnit} = ${convertedAmount.toFixed(4)} ${toUnit}`;
        resultSection.style.display = 'block';
    }

    // 示例转换函数（可根据实际需求扩展）
    function convertLength(fromUnit, toUnit, amount) {
        const conversionRates = {
            '米': 1,
            '厘米': 100,
            '千米': 0.001,
            '英里': 0.000621371,
            '英寸': 39.3701
        };
        return (amount * conversionRates[fromUnit]) / conversionRates[toUnit];
    }

    function convertWeight(fromUnit, toUnit, amount) {
        const conversionRates = {
            '千克': 1,
            '克': 1000,
            '吨': 0.001,
            '磅': 2.20462,
            '盎司': 35.274
        };
        return (amount * conversionRates[fromUnit]) / conversionRates[toUnit];
    }

    function convertArea(fromUnit, toUnit, amount) {
        const conversionRates = {
            '平方米': 1,
            '平方厘米': 10000,
            '公顷': 0.0001,
            '平方英尺': 10.7639,
            '亩': 0.0015
        };
        return (amount * conversionRates[fromUnit]) / conversionRates[toUnit];
    }

    function convertVolume(fromUnit, toUnit, amount) {
        const conversionRates = {
            '升': 1,
            '毫升': 1000,
            '立方米': 0.001,
            '加仑': 0.264172,
            '品脱': 2.11338
        };
        return (amount * conversionRates[fromUnit]) / conversionRates[toUnit];
    }

    // 初始化单位选项
    window.onload = () => {
        fetchExchangeRates();
        updateUnitOptions();
    };
</script>
<!-- 货币汇率计算器 结束 -->
